# âš™ï¸ [Isochrone Map Viewer] ê¸°ìˆ  ì‚¬ì–‘ì„œ (TRD)

> **ë²„ì „**: 1.0
> **ì‘ì„±ì¼**: 2025-11-30
> **ë¬¸ì„œ ìœ í˜•**: ê¸°ìˆ  ì‚¬ì–‘ì„œ (Technical Requirements Document)

---

## 1. ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½

| ë¶„ë¥˜ | ê¸°ìˆ  | ë²„ì „ | ì„ ì • ì´ìœ  |
|------|------|------|-----------|
| **ì–¸ì–´** | Python | 3.11+ | AI ì½”ë”© ì¹œí™”ì , í’ë¶€í•œ ì§€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| **í”„ë ˆì„ì›Œí¬** | Streamlit | 1.51.0 | ê°œì¸ìš© ë„êµ¬ì— ìµœì , ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘ |
| **ì§€ë„ ì‹œê°í™”** | Folium | 0.20.0 | Leaflet ê¸°ë°˜, Streamlit ì™„ë²½ í†µí•© |
| **Streamlit-Folium** | streamlit-folium | 0.25.3 | ì–‘ë°©í–¥ ì§€ë„ ì»´í¬ë„ŒíŠ¸ |
| **API í´ë¼ì´ì–¸íŠ¸** | openrouteservice | 2.3.3 | ê³µì‹ Python í´ë¼ì´ì–¸íŠ¸ |
| **ì§€ë„ íƒ€ì¼** | CartoDB Positron | - | ë°ì€ íšŒìƒ‰ ìŠ¤íƒ€ì¼ (ë‚´ì¥) |

---

## 2. ì„ ì • ì´ìœ  ìƒì„¸

### ğŸ¯ ì™œ Streamlitì¸ê°€?

| ê¸°ì¤€ | í‰ê°€ |
|------|------|
| **ê°œì¸ìš© ë„êµ¬** | âœ… Streamlitì€ ë°ì´í„°/ë¶„ì„ ë„êµ¬ì— ìµœì í™” |
| **100% AI ìœ„ì„** | âœ… ë‹¨ìˆœí•œ êµ¬ì¡°ë¡œ AIê°€ ì‹¤ìˆ˜í•  ê°€ëŠ¥ì„± ìµœì†Œí™” |
| **ë¹ ë¥¸ ê°œë°œ** | âœ… ë‹¨ì¼ íŒŒì¼ë¡œ ì „ì²´ ì•± êµ¬í˜„ ê°€ëŠ¥ |
| **ë°°í¬ ìš©ì´** | âœ… Streamlit Community Cloud ë¬´ë£Œ ë°°í¬ |
| **ì§€ë„ ì§€ì›** | âœ… streamlit-folium ê³µì‹ ì»´í¬ë„ŒíŠ¸ ì¡´ì¬ |

### ğŸ—ºï¸ ì™œ OpenRouteServiceì¸ê°€?

| ê¸°ì¤€ | í‰ê°€ |
|------|------|
| **ë¬´ë£Œ API** | âœ… API í‚¤ë§Œìœ¼ë¡œ ë¬´ë£Œ ì‚¬ìš© ê°€ëŠ¥ |
| **Isochrone ì§€ì›** | âœ… ì „ìš© ì—”ë“œí¬ì¸íŠ¸ ì œê³µ |
| **OSM ê¸°ë°˜** | âœ… OpenStreetMap ë°ì´í„° ì‚¬ìš© |
| **Python SDK** | âœ… ê³µì‹ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì œê³µ |

---

## 3. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              â”‚      â”‚              â”‚      â”‚                  â”‚
â”‚   ì‚¬ìš©ì      â”‚â—„â”€â”€â”€â”€â–ºâ”‚  Streamlit   â”‚â—„â”€â”€â”€â”€â–ºâ”‚ OpenRouteService â”‚
â”‚  (ë¸Œë¼ìš°ì €)   â”‚      â”‚    App       â”‚      â”‚      API         â”‚
â”‚              â”‚      â”‚              â”‚      â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚              â”‚
                      â”‚   Folium     â”‚
                      â”‚  (ì§€ë„ ë Œë”ë§) â”‚
                      â”‚              â”‚
                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚  CartoDB     â”‚
                      â”‚  Positron    â”‚
                      â”‚  (íƒ€ì¼ ì„œë²„)  â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° íë¦„

```
[ì‚¬ìš©ì ì…ë ¥]
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ì¢Œí‘œ (lat, lon)                       â”‚
â”‚ 2. ì´ë™ìˆ˜ë‹¨ (foot-walking / driving-car) â”‚
â”‚ 3. ì‹œê°„ (ì´ˆ ë‹¨ìœ„)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     OpenRouteService Isochrone API      â”‚
â”‚     POST /v2/isochrones/{profile}       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         GeoJSON í´ë¦¬ê³¤ ì‘ë‹µ              â”‚
â”‚    { "type": "FeatureCollection", ... } â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Folium GeoJson ë ˆì´ì–´ ì¶”ê°€          â”‚
â”‚      folium.GeoJson(data).add_to(map)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      st_folium()ë¡œ ì§€ë„ ë Œë”ë§           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
isochrone-map-viewer/
â”‚
â”œâ”€â”€ app.py                  # ë©”ì¸ Streamlit ì• í”Œë¦¬ì¼€ì´ì…˜ (ë‹¨ì¼ íŒŒì¼)
â”œâ”€â”€ requirements.txt        # Python ì˜ì¡´ì„± ëª©ë¡
â”œâ”€â”€ .env.example           # í™˜ê²½ë³€ìˆ˜ ì˜ˆì‹œ (API í‚¤)
â”œâ”€â”€ .gitignore             # Git ì œì™¸ íŒŒì¼ ëª©ë¡
â”‚
â”œâ”€â”€ .streamlit/
â”‚   â””â”€â”€ config.toml        # Streamlit ì„¤ì • (í…Œë§ˆ ë“±)
â”‚
â””â”€â”€ README.md              # í”„ë¡œì íŠ¸ ì„¤ëª… ë° ì‹¤í–‰ ë°©ë²•
```

> âš ï¸ **ì¤‘ìš”**: ê°œì¸ìš© ë„êµ¬ì´ë¯€ë¡œ ë‹¨ì¼ íŒŒì¼(`app.py`) êµ¬ì¡°ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.
> ëª¨ë“ˆ ë¶„ë¦¬ëŠ” ë¶ˆí•„ìš”í•œ ë³µì¡ë„ë¥¼ ì¶”ê°€í•˜ë¯€ë¡œ ì§€ì–‘í•˜ì„¸ìš”.

---

## 5. í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ (requirements.txt)

```txt
# Core Framework
streamlit==1.51.0

# Map Visualization
folium==0.20.0
streamlit-folium==0.25.3

# OpenRouteService API Client
openrouteservice==2.3.3

# Environment Variables
python-dotenv==1.0.1
```

---

## 6. í™˜ê²½ ì„¤ì •

### .env.example

```env
# OpenRouteService API Key
# ë°œê¸‰: https://openrouteservice.org/dev/#/signup
ORS_API_KEY=your_api_key_here
```

### .streamlit/config.toml

```toml
[theme]
primaryColor = "#4A90D9"
backgroundColor = "#FFFFFF"
secondaryBackgroundColor = "#F0F2F6"
textColor = "#262730"
font = "sans serif"

[server]
headless = true
port = 8501
```

---

## 7. API ì‚¬ì–‘

### OpenRouteService Isochrones API

| í•­ëª© | ê°’ |
|------|-----|
| **Endpoint** | `POST /v2/isochrones/{profile}` |
| **Base URL** | `https://api.openrouteservice.org` |
| **ì¸ì¦** | Header: `Authorization: {API_KEY}` |

### Profile ê°’

| ì´ë™ ìˆ˜ë‹¨ | Profile ê°’ |
|-----------|-----------|
| ë„ë³´ | `foot-walking` |
| ì°¨ëŸ‰ | `driving-car` |

### ìš”ì²­ ì˜ˆì‹œ (Python)

```python
import openrouteservice

client = openrouteservice.Client(key='YOUR_API_KEY')

isochrone = client.isochrones(
    locations=[[ê²½ë„, ìœ„ë„]],  # ì£¼ì˜: [lon, lat] ìˆœì„œ!
    profile='foot-walking',
    range=[900],               # ì´ˆ ë‹¨ìœ„ (900ì´ˆ = 15ë¶„)
    range_type='time'
)
```

### API ì œí•œì‚¬í•­

| í•­ëª© | ì œí•œ |
|------|------|
| ë¶„ë‹¹ ìš”ì²­ | 20íšŒ |
| ì¼ì¼ ìš”ì²­ | 2,000íšŒ |
| ìµœëŒ€ ìœ„ì¹˜ ìˆ˜ | 5ê°œ |
| ë„ë³´ ìµœëŒ€ ì‹œê°„ | 20ì‹œê°„ |
| ì°¨ëŸ‰ ìµœëŒ€ ì‹œê°„ | 1ì‹œê°„ |
| ìµœëŒ€ ê±°ë¦¬ | 120km |

---

## 8. í•µì‹¬ ì½”ë“œ íŒ¨í„´

### ì§€ë„ ìƒì„± (Carto Positron ìŠ¤íƒ€ì¼)

```python
import folium

m = folium.Map(
    location=[ìœ„ë„, ê²½ë„],
    tiles="CartoDB Positron",  # ë°ì€ íšŒìƒ‰ ìŠ¤íƒ€ì¼
    zoom_start=13
)
```

### ì•„ì´ì†Œí¬ë¡  í´ë¦¬ê³¤ ì¶”ê°€

```python
folium.GeoJson(
    isochrone,
    style_function=lambda x: {
        'fillColor': '#3388ff',
        'color': '#3388ff',
        'weight': 2,
        'fillOpacity': 0.3
    }
).add_to(m)
```

### ì¤‘ì‹¬ì  ë§ˆì»¤ ì¶”ê°€

```python
folium.Marker(
    location=[ìœ„ë„, ê²½ë„],
    popup="ì¶œë°œì ",
    icon=folium.Icon(color='red', icon='info-sign')
).add_to(m)
```

### Streamlitì—ì„œ ì§€ë„ í‘œì‹œ

```python
from streamlit_folium import st_folium

st_folium(m, width=700, height=500)
```

---

## 9. AI ì½”ë”© ì£¼ì˜ì‚¬í•­

### âœ… ë°˜ë“œì‹œ ì§€ì¼œì•¼ í•  ê²ƒ

| # | ì£¼ì˜ì‚¬í•­ |
|---|----------|
| 1 | **ì¢Œí‘œ ìˆœì„œ**: OpenRouteServiceëŠ” `[ê²½ë„, ìœ„ë„]` ìˆœì„œë¥¼ ì‚¬ìš© (ì¼ë°˜ì ì¸ `[ìœ„ë„, ê²½ë„]`ì™€ ë°˜ëŒ€!) |
| 2 | **ì‹œê°„ ë‹¨ìœ„**: APIëŠ” ì´ˆ(seconds) ë‹¨ìœ„ë¥¼ ì‚¬ìš© (ë¶„ â†’ ì´ˆ ë³€í™˜ í•„ìˆ˜) |
| 3 | **API í‚¤ ë³´ì•ˆ**: `.env` íŒŒì¼ ì‚¬ìš©, ì ˆëŒ€ ì½”ë“œì— í•˜ë“œì½”ë”© ê¸ˆì§€ |
| 4 | **ë‹¨ì¼ íŒŒì¼ ìœ ì§€**: `app.py` í•˜ë‚˜ë¡œ ëª¨ë“  ê¸°ëŠ¥ êµ¬í˜„ |
| 5 | **ì—ëŸ¬ ì²˜ë¦¬**: API í˜¸ì¶œ ì‹¤íŒ¨ ì‹œ ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€ í‘œì‹œ |

### âŒ í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒ

| # | ê¸ˆì§€ì‚¬í•­ |
|---|----------|
| 1 | ë¶ˆí•„ìš”í•œ ëª¨ë“ˆ/íŒŒì¼ ë¶„ë¦¬ |
| 2 | ë³µì¡í•œ í´ë˜ìŠ¤ êµ¬ì¡° ì„¤ê³„ |
| 3 | ì‚¬ì–‘ì„œì— ì—†ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€ |
| 4 | API í‚¤ë¥¼ ì½”ë“œì— ì§ì ‘ ì‘ì„± |
| 5 | ìœ„ë„/ê²½ë„ ìˆœì„œ í˜¼ë™ |

---

## 10. ë°°í¬ ê°€ì´ë“œ

### ë¡œì»¬ ì‹¤í–‰

```bash
# 1. ê°€ìƒí™˜ê²½ ìƒì„±
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# 3. í™˜ê²½ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì— API í‚¤ ì…ë ¥

# 4. ì‹¤í–‰
streamlit run app.py
```

### Streamlit Community Cloud ë°°í¬

1. GitHubì— ì½”ë“œ í‘¸ì‹œ
2. [share.streamlit.io](https://share.streamlit.io) ì ‘ì†
3. ì €ì¥ì†Œ ì—°ê²°
4. Secretsì— `ORS_API_KEY` ì¶”ê°€
5. Deploy í´ë¦­

---

## 11. ì°¸ê³  ìë£Œ

| ìë£Œ | ë§í¬ |
|------|------|
| Streamlit ê³µì‹ ë¬¸ì„œ | https://docs.streamlit.io |
| Folium ê³µì‹ ë¬¸ì„œ | https://python-visualization.github.io/folium |
| streamlit-folium | https://folium.streamlit.app |
| OpenRouteService API | https://openrouteservice.org/dev |
| OpenRouteService Python | https://github.com/GIScience/openrouteservice-py |
| CartoDB ë² ì´ìŠ¤ë§µ | https://github.com/CartoDB/basemap-styles |
