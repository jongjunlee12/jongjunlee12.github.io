# 📄 [Isochrone Map Viewer] 요구사항 정의서 (PRD)

> **버전**: 1.1 (API 키 불필요 버전)
> **작성일**: 2025-11-30
> **문서 유형**: MVP 요구사항 정의서

---

## 1. 프로젝트 개요

**한 줄 요약**: 특정 좌표에서 도보/차량으로 일정 시간 내 도달 가능한 영역(아이소크론)을 지도 위에 시각화하는 개인용 웹 도구

---

## 2. 핵심 타겟 (페르소나)

| 항목 | 내용 |
|------|------|
| **사용자** | 본인 (개인용) |
| **사용 목적** | 특정 위치에서 이동 가능 범위를 빠르게 파악 |
| **기술 수준** | 비개발자 (코드 수정 불필요) |
| **사용 환경** | 웹 브라우저 (로컬 또는 Streamlit Cloud) |

---

## 3. 주요 기능 (MVP Scope)

### ✅ 필수 기능 (Must Have)

| # | 기능명 | 설명 |
|---|--------|------|
| 1 | **좌표 입력** | 위도(Latitude)와 경도(Longitude)를 직접 입력하여 중심점 설정 |
| 2 | **이동 수단 선택** | 도보(Walking) / 차량(Driving) 중 선택 |
| 3 | **시간 범위 선택** | 5분, 10분, 15분, 30분, 60분 등 원하는 시간 선택 |
| 4 | **아이소크론 시각화** | 선택한 조건으로 도달 가능 영역을 지도 위에 폴리곤으로 표시 |
| 5 | **Carto Positron 스타일** | 밝은 회색 톤의 깔끔한 지도 배경 |

### ⏸️ 추후 고도화 (Nice to Have)

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 지도 클릭으로 좌표 선택 | 좌표 직접 입력 대신 지도 클릭 | 중 |
| 다중 시간대 비교 | 여러 시간대를 동시에 레이어로 표시 | 중 |
| 결과 이미지 다운로드 | 지도 캡처 기능 | 하 |
| 자전거/대중교통 추가 | 추가 이동 수단 | 하 |
| 주소 검색 (Geocoding) | 주소 입력 → 좌표 변환 | 하 |

---

## 4. 사용자 흐름 (User Flow)

```
┌─────────────────────────────────────────────────────────────────┐
│                        사용자 흐름 (3단계)                        │
└─────────────────────────────────────────────────────────────────┘

[1단계: 접속]
    │
    ▼
┌─────────────────┐
│  웹 앱 접속      │
│  (localhost 또는 │
│   Streamlit Cloud)│
└────────┬────────┘
         │
         ▼
[2단계: 조건 입력]
         │
    ┌────┴────┐
    ▼         ▼
┌───────┐ ┌───────┐ ┌───────┐
│ 위도   │ │ 경도   │ │ 시간   │
│ 입력   │ │ 입력   │ │ 선택   │
└───┬───┘ └───┬───┘ └───┬───┘
    │         │         │
    └────┬────┘         │
         │              │
         ▼              │
    ┌─────────┐         │
    │이동수단  │◄────────┘
    │ 선택    │
    │(도보/차량)│
    └────┬────┘
         │
         ▼
    ┌─────────┐
    │ [실행]   │
    │  버튼    │
    └────┬────┘
         │
         ▼
[3단계: 결과 확인]
         │
         ▼
┌─────────────────┐
│  아이소크론 맵   │
│  시각화 표시     │
│ (Carto Positron)│
└─────────────────┘
```

---

## 5. 화면 구성 (Wireframe)

```
┌─────────────────────────────────────────────────────────────┐
│  🗺️ Isochrone Map Viewer                                    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─── 사이드바 ───┐   ┌─────── 메인 영역 ───────────────┐   │
│  │                │   │                                 │   │
│  │ 📍 좌표 입력    │   │                                 │   │
│  │ ┌────────────┐ │   │                                 │   │
│  │ │ 위도: 37.5 │ │   │                                 │   │
│  │ └────────────┘ │   │         🗺️ 지도 영역            │   │
│  │ ┌────────────┐ │   │                                 │   │
│  │ │ 경도: 127.0│ │   │      (Carto Positron 스타일)    │   │
│  │ └────────────┘ │   │                                 │   │
│  │                │   │      ┌─────────────────┐        │   │
│  │ 🚶 이동 수단   │   │      │   아이소크론     │        │   │
│  │ ○ 도보        │   │      │    폴리곤       │        │   │
│  │ ● 차량        │   │      └─────────────────┘        │   │
│  │                │   │             📍                  │   │
│  │ ⏱️ 시간 선택   │   │          (중심점)               │   │
│  │ ┌────────────┐ │   │                                 │   │
│  │ │ 15분    ▼  │ │   │                                 │   │
│  │ └────────────┘ │   │                                 │   │
│  │                │   │                                 │   │
│  │ ┌────────────┐ │   │                                 │   │
│  │ │  🔍 실행   │ │   │                                 │   │
│  │ └────────────┘ │   │                                 │   │
│  │                │   │                                 │   │
│  └────────────────┘   └─────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 6. 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| **응답 시간** | 첫 실행 시 네트워크 다운로드 포함 10~30초, 이후 5초 이내 |
| **호환성** | Chrome, Firefox, Safari 최신 버전 |
| **배포** | 로컬 실행 권장 (Streamlit Cloud는 메모리 제한 주의) |

---

## 7. 제약사항 및 의존성

| 항목 | 내용 |
|------|------|
| **데이터 소스** | OpenStreetMap (OSMnx로 자동 다운로드) |
| **API 키** | ❌ 불필요 (완전 무료) |
| **네트워크** | 최초 도로 네트워크 다운로드 시 인터넷 필요 |
| **로컬 처리** | 아이소크론 계산은 100% 로컬에서 수행 |

---

## 8. 성공 지표

- [ ] 좌표 입력 후 아이소크론이 정상 표시됨
- [ ] 도보/차량 전환 시 결과가 다르게 표시됨
- [ ] 시간 변경 시 영역 크기가 변함
- [ ] Carto Positron 스타일이 적용됨
